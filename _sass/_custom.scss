/* 
    Put your custom SCSS here! 
    This allows you to override any CollectionBuilder or Bootstrap CSS without modifying the base theme files directly.
*/


html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: linear-gradient(to right, #8c8782 28%, #cccccc 0);
}

/* - - - -  
Banner Styles 
- - - - - */

/* adds a sepia overlay with some opacity to the banner image */
.bg-sepia {
  background-color: #31261dB3 !important;
}

/* another overlay color option in case team doesn't like sepia */
.bg-black {
  background-color: #00000099 !important; 
}

.site-title-container {
  margin-top: 2.5rem;
}

/* - - - - 
Site Title, Site Sub Titles
- - - - - */

.site-title, .section-title, .site-title-default {
  @if $heading-font-family != "" { font-family: $heading-font-family; }
}

/* styles for the site title on the home page banner */
h1.site-title {
    font-size: 3.5rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

h2.site-title{
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* styles for the site title on all other pages using the default template */
h1.site-title-default {
  font-size: 2.5rem;
  text-align: center;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* margin specific to the title on the homepage. doesn't apply to default template */
.title-margin {
  margin: 28px 0px 99px 0px;
}

/* section heading used only on the homepage */
h2#explore-the-exhibit {
  margin: 20px 0px 30px 0px;
  text-align: center;
  @if $heading-font-family != "" { font-family: $heading-font-family; }
}
 
/* - - - - 
Menu Styles
- - - - - */

button.navbar-toggler {
  background-color: #ffffff99;
}

@media (max-width: 991.98px) {
  .navbar-collapse .navbar-nav {
    text-align: left !important;
    align-items: flex-start !important;
    justify-content: flex-start !important;
  }

  .navbar-collapse .nav-link {
    text-align: left !important;
  }
}


/* - - - -
logo styles 
- - - - - */

#logo {
  max-width: 350px;
  min-height: 45px; 
  margin: 2.5rem;
  shape-rendering: geometricPrecision;
  text-rendering: geometricPrecision;
  image-rendering: auto;
  fill: #ffffff;
}

  #logo path.caltech-logotype {
    fill: #FF6C0C;
  }

  div.no-outline {
    border:none !important;
  }

/* Override Bootstrap primary button */
.btn-primary {
  background-color: #c75000; /* your brand color */
  border-color: #c75000;
}

.btn-primary:hover,
.btn-primary:focus {
  background-color: #c75000; /* darker shade on hover */
  border-color: #c75000;
}

/* Optional: style plain .btns if used without btn-primary */
.btn {
  font-family: 'Hind', sans-serif;
  border-radius: 4px;
  text-transform: uppercase;
  font-weight: 600;
}

/* Override link colors for child items */

a.dropdown-custom {
  color:#000000;
  border-bottom: dotted #eeeeee 1px;
  display: block;
  padding: 5px 0px 5px 15px;
  position: relative; // optional, for fine control
  width:250px;
}

a.dropdown-custom::before {
  content: "▶"; 
  margin-right: 8px;
  font-size: 0.8em;
  color: #cbe3df;
}

/* transferring the styles from main menu to ul */

ul.custom-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

ul.custom-list li {
  color: #000000;
  border-bottom: dotted #eeeeee 1px;
  padding: 5px 0px 5px 15px;
  position: relative;
  width: 250px;
  display: block;
}

ul.custom-list li::before {
  content: "▶";
  margin-right: 8px;
  font-size: 0.8em;
  color: #cbe3df;
  position: absolute;
  left: 0;
}

/* Custom Exhibit Color Schemes */

.burnt:hover {
  background-color: $burnt;
  color:#000000 !important;
}

a.black:hover {
  color:#000000 !important;

}

.lions-main:hover {
  background-color: $lions-main;
}

.mission-trail:hover {
  background-color: $mission-trail;
}

.pencil-lead:hover {
  background-color: $pencil-lead;
}

.campfire:hover {
  background-color: $campfire; 
}

.body-container {
  color:#000000;
  padding: 3rem 4rem;
  line-height: 2rem;
  margin: 4rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
.overview {
  background-color: $burnt;
  margin-top: -100px;
}

.becoming {
  background-color: $lions-main;
  margin: 50px 40px 0px 50px;
  height: 100%;
}

.building-research {
  background-color: $mission-trail;
}

.community {
  background-color: $pencil-lead;
}

.multimedia {
  background-color: $campfire;
}

/* fixes margins for content-container on devices 767 and smaller */
@media (max-width: 767px) {
  
  .becoming, .building-research, .community, .multimedia {
    margin: 50px 10px 0px 10px !important;
  }

  .site-title-container {
    margin: 0px 0px 50px 0px;
  }

}

/* fixes margins for content-container on devices 540 and smaller */
@media (max-width: 540px) {
  .title-margin {
    margin-top: -20px;
  }

  .becoming, .building-research, .community, .multimedia {
    padding: 2rem;
    margin: 0px 10px 0px 10px !important;
  }

  h1.site-title-default {
    font-size: 2rem !important;
    margin-bottom: 50px !important;
  }

  h1.site-title {
  font-size: 2.7rem !important;
  margin-bottom: 50px !important;
  }
}

/* adujusting padding on content-container at 445 and smaller */
@media (max-width: 445px) {
  .becoming, .building-research, .community, .multimedia {
    padding: 2rem;
    margin:  0px 10px 0px 10px !important;
    height: 97%;
  }

  .title-margin {
    margin-top: -20px;
  }

  .site-title-container {
    margin: 0px;
  }

  h1.site-title-default {
    font-size: 2.5rem !important;
    margin-bottom: 50px !important;
  }

  h1.site-title {
  font-size: 2.5rem !important;
  margin-bottom: 50px !important;
  }
}

/* - - - - - 
Custom Nav Footer
- - - - - - */

#dynamic-footer-nav {
  background-color: #f8f9fa; 
  border-top: 1px solid #ddd;
}

#dynamic-footer-nav a {
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 3px;
  color: #666666;
}

#dynamic-footer-nav a:hover {
  color: #0056b3;
}

#dynamic-footer-nav {
  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.05);
}

/* - - - - - -
Mirador Styles
- - - - - - - */

/* div that acts as container for mirador player */
#my-mirador {
  height: 900px;
  max-width: 95%;
  margin-top: 43px;
  position: relative;
}

.my-mirador-community {
  margin: 0 3.5rem 0 3.5rem !important;
  max-width: 100% !important;
}

/* fixes margins for mirador container on devices 767 and smaller */
@media (max-width: 767px) {
  #my-mirador {
  height: 900px;
  max-width: 95%;
  margin-top: 50px;
  position: relative;
  }

  .my-mirador-community {
  margin: 40px 5px 0px 5px !important;
  max-width: 100% !important;
}
}

/* fixes margins for mirador container on devices 540 and smaller */
@media (max-width: 540px) {
  #my-mirador {
  height: 900px;
  max-width: 95%;
  margin-top: 50px;
  position: relative;
  }

  .my-mirador-community {
  margin: 20px 0px 0px 0px !important;
  max-width: 100% !important;
}
}

/* fixes margins for mirador container on devices 445 and smaller */
@media (max-width: 445px) {
  #my-mirador {
  height: 900px;
  max-width: 95%;
  margin-top: 50px;
  position: relative;
  }

  .my-mirador-community {
  margin: 20px 0px 0px 0px !important;
  max-width: 100% !important;
}
}

/* Image sizing inside gallery tiles (preserve aspect) */
#my-mirador .mirador-viewer section[id^="window-"][id$="-gallery"] img.mirador63 {
  width: auto !important;
  display: block;
  margin: 0 auto;
  object-fit: contain;
}

/* Prevent images from hijacking drag gestures */
.osd-thumbs img {
  -webkit-user-drag: none;
  user-select: none;
}

/* Caption spacing inside gallery tiles */
#my-mirador .mirador-viewer section[id^="window-"][id$="-gallery"] .mirador67.mirador69 {
  margin-top: 6px;
}


/* Adds styling specific to thumbnail navigation when visible to respect aspect ratio */
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] { overflow: hidden; }
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] img {
  max-width: 100%;
  max-height: 100%;
  width: auto;       
  height: auto;     
  display: block;
  object-fit: contain;
}

/* Constrain nav thumbnails to cell; center without squishing */
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] img {
  max-width: 100% !important;
  max-height: 100% !important;
  width: auto !important;  
  height: auto !important;  
  display: block !important;
}

/* STRONG clamp: override inline width/height on nav thumbnails */
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] > * img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] button img {
  max-width: 100% !important;
  max-height: 100% !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
  display: block !important;
}
.mirador-viewer {
  background: none !important;
}


/* - - - - - - - - 
Open Seadragon
- - - - - - - - - */

/* container - includes everything */
.osd-shell {
  height: auto;                 
  background-color: #ffffff;
  padding: 1rem;
  margin-top: 65px;
  border-top: 2px solid #847a63;
  max-width: 95%;
}

/* gallery title */
.osd-header h1 {  
  font-family: "Georgia", "serif";
  font-size: 2rem;
  margin-bottom: 10px;
}


/* container for metadata and viewer */
.osd-body-container {
  border: 1px solid #eee;
  background: #fff;
}

/* VIEWER */

#osd-viewer {
  height: 72vh;                  
}

/* METADATA */

.osd-meta {
  overflow: auto;
  padding: 1.5rem 1rem 0 1.5rem;
  background: #fff;
  border-left: 1px #eee solid;
}

.osd-meta h2{
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
}

/* NAVIGATION */

.osd-nav-container {
  border: 1px solid #eee;
  background: #eee;
}

.osd-thumbs {
  padding: 13px 0;
  touch-action: pan-x;            
  scrollbar-gutter: stable;  
  margin-bottom: 0px;   
  background: #eee;  
}

.thumb {
  height: 100px;
  border: 1px solid #ccc;
  background: #fff;
  cursor: pointer;
}

#thumbs {
  scrollbar-width: thick;           
  scrollbar-color: #847a63 #f8f8f8;   
}

#thumbs::-webkit-scrollbar {
  height: 16px;
}

.thumb img { 
  max-width: 100%; 
  max-height: 100%; 
  display: block;
  padding: 3px 0px 3px 0px;
 }

.thumb[aria-current="true"] { 
  background: #847a63; 
}

/* Responsive viewer height tweaks */
@media (max-width: 1199.98px) {   
  #osd-viewer { 
    height: 60vh; 
  }
}

@media (max-width: 767.98px) {
  #osd-viewer { 
    height: 50vh; 
  }
  .thumb { 
    width: 120px; 
    height: 84px; 
  }
}


#iiif-shell, .osd-shell, .container-fluid {
  overflow-x: visible !important;
}
 
/* adujusting padding on mirador container at 445 and smaller */
@media (max-width: 445px) {
  #my-mirador {
  margin: 10px auto;

  }
}

/* GALLERY (not nav): scope by section id ending in -gallery */
#my-mirador .mirador-viewer section[id^="window-"][id$="-gallery"] [role="button"] {
  width: 225px !important;
  height: 200px !important;
  padding: 1rem;
  margin: 1rem;
  background-color: #f8f9fa;
  border: 1px solid #ccc;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 6px;
  display: flex; 
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
} 

/* Center the media block inside each gallery tile */
#my-mirador .mirador-viewer section[id^="window-"][id$="-gallery"] .mirador71.mirador70 {
  display: flex;
  flex-direction: column;
  align-items: center;
  height:130% !important;
}


/* Adds styling specific to thumbnail navigation when visible to respect aspect ratio */
#my-mirador .mirador-thumb-navigation [role="gridcell"],
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] { overflow: hidden; }
#my-mirador .mirador-thumb-navigation [role="gridcell"] img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] img {
  max-width: 100%;
  max-height: 100%;
  width: auto;       
  height: auto;     
  display: block;
  object-fit: contain;
}

/* Constrain nav thumbnails to cell; center without squishing */
#my-mirador .mirador-thumb-navigation [role="gridcell"] img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] img {
  max-width: 100% !important;
  max-height: 100% !important;
  width: auto !important;  
  height: auto !important;  
  display: block !important;
}

/* STRONG clamp: override inline width/height on nav thumbnails */
#my-mirador .mirador-thumb-navigation [role="gridcell"] > * img,
#my-mirador .mirador-thumb-navigation [role="gridcell"] img,
#my-mirador .mirador-thumb-navigation [role="gridcell"] button img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] > * img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] img,
#my-mirador .mirador-window-thumbnail-navigation [role="gridcell"] button img {
  max-width: 100% !important;
  max-height: 100% !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
  display: block !important;
}
.mirador-viewer {
  background: none !important;
}

/* --- Mirador right-rail thumbnail sizing --- */
#my-mirador .mirador-companion-area-far-right .mirador-thumb-navigation {
/*  width: 70px !important;   
  min-width: 70px !important; */
}

#my-mirador .mirador-companion-area-far-right .mirador-thumb-navigation .mirador-thumbnail-nav-container {
  height: 100px !important;    /* per-thumb height */
  box-sizing: border-box !important;
  padding: 0 !important;
}

#my-mirador .mirador-companion-area-far-right .mirador-thumb-navigation .mirador74 {
  padding: 0 !important;
}

/* Fill the right-rail row wrapper to the rail width */
#my-mirador .mirador-companion-area-far-right 
.mirador-thumb-navigation > [role="row"] {
  width: 94% !important;
  box-sizing: border-box;
}